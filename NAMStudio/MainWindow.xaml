<Window x:Class="NAMStudio.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:NAMStudio"
        mc:Ignorable="d"
        Title="Neural Amp Modeler" Height="650" Width="1000">
    <Grid Margin="16">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>
        <StackPanel Orientation="Horizontal" >
            <Button Content="Load NAM Model" Command="{Binding LoadModelCommand}" Padding="12,6" />
            <TextBlock Text="{Binding ModelPath}" VerticalAlignment="Center" TextTrimming="CharacterEllipsis" Width="260" />
            <Button Content="Load IR" Command="{Binding LoadIrCommand}" Padding="12,6" />
            <TextBlock Text="{Binding IrPath}" VerticalAlignment="Center" TextTrimming="CharacterEllipsis" Width="260" />
            <Button Content="Save Preset" Command="{Binding SavePresetCommand}" Padding="12,6" />
            <Button Content="Load Preset" Command="{Binding LoadPresetCommand}" Padding="12,6" />
        </StackPanel>
        <Grid Grid.Row="1" Margin="0,16,0,16">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="2*" />
                <ColumnDefinition Width="*" />
            </Grid.ColumnDefinitions>
            <StackPanel Grid.Column="0" >
                <GroupBox Header="Input">
                    <StackPanel Margin="8">
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="Input Gain" Width="90" VerticalAlignment="Center" />
                            <Slider Minimum="0" Maximum="24" Value="{Binding InputGain}" Width="200" />
                            <TextBlock Text="{Binding InputGain, StringFormat=0.0 dB}" Width="80" />
                        </StackPanel>
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="Noise Gate" Width="90" VerticalAlignment="Center" />
                            <Slider Minimum="-80" Maximum="0" Value="{Binding NoiseGateThreshold}" Width="200" />
                            <TextBlock Text="{Binding NoiseGateThreshold, StringFormat=0 dB}" Width="80" />
                        </StackPanel>
                        <CheckBox Content="Gate Enabled" IsChecked="{Binding NoiseGateEnabled}" />
                    </StackPanel>
                </GroupBox>
                <GroupBox Header="Model Controls">
                    <StackPanel Margin="8">
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="Tone" Width="90" VerticalAlignment="Center" />
                            <Slider Minimum="0" Maximum="10" Value="{Binding Tone}" Width="200" />
                            <TextBlock Text="{Binding Tone, StringFormat=0.0}" Width="80" />
                        </StackPanel>
                        <StackPanel Orientation="Horizontal" >
                            <TextBlock Text="Drive" Width="90" VerticalAlignment="Center" />
                            <Slider Minimum="0" Maximum="10" Value="{Binding Drive}" Width="200" />
                            <TextBlock Text="{Binding Drive, StringFormat=0.0}" Width="80" />
                        </StackPanel>
                        <StackPanel Orientation="Horizontal" >
                            <TextBlock Text="Presence" Width="90" VerticalAlignment="Center" />
                            <Slider Minimum="0" Maximum="10" Value="{Binding Presence}" Width="200" />
                            <TextBlock Text="{Binding Presence, StringFormat=0.0}" Width="80" />
                        </StackPanel>
                        <StackPanel Orientation="Horizontal" >
                            <TextBlock Text="Master" Width="90" VerticalAlignment="Center" />
                            <Slider Minimum="0" Maximum="10" Value="{Binding MasterVolume}" Width="200" />
                            <TextBlock Text="{Binding MasterVolume, StringFormat=0.0}" Width="80" />
                        </StackPanel>
                    </StackPanel>
                </GroupBox>
                <GroupBox Header="Output">
                    <StackPanel Margin="8">
                        <StackPanel Orientation="Horizontal" >
                            <TextBlock Text="Output Gain" Width="90" VerticalAlignment="Center" />
                            <Slider Minimum="-24" Maximum="24" Value="{Binding OutputGain}" Width="200" />
                            <TextBlock Text="{Binding OutputGain, StringFormat=0.0 dB}" Width="80" />
                        </StackPanel>
                        <StackPanel Orientation="Horizontal" >
                            <TextBlock Text="Wet/Dry" Width="90" VerticalAlignment="Center" />
                            <Slider Minimum="0" Maximum="1" Value="{Binding WetDryMix}" Width="200" />
                            <TextBlock Text="{Binding WetDryMix, StringFormat=P0}" Width="80" />
                        </StackPanel>
                        <CheckBox Content="Limiter Enabled" IsChecked="{Binding LimiterEnabled}" />
                    </StackPanel>
                </GroupBox>
                <GroupBox Header="Monitoring">
                    <StackPanel Margin="8">
                        <ProgressBar Minimum="-60" Maximum="6" Value="{Binding InputLevel}" Height="18" />
                        <ProgressBar Minimum="-60" Maximum="6" Value="{Binding OutputLevel}" Height="18" />
                        <TextBlock Text="{Binding StatusMessage}" />
                    </StackPanel>
                </GroupBox>
            </StackPanel>
            <Grid Grid.Column="1" Margin="16,0,0,0">
                <Grid.RowDefinitions>
                    <RowDefinition Height="*" />
                    <RowDefinition Height="Auto" />
                </Grid.RowDefinitions>
                <ListBox ItemsSource="{Binding Presets}" SelectedItem="{Binding SelectedPreset}" DisplayMemberPath="Name" />
                <StackPanel Grid.Row="1" Orientation="Horizontal" HorizontalAlignment="Right"  Margin="0,8,0,0">
                    <Button Content="Delete" Command="{Binding DeletePresetCommand}" />
                    <Button Content="Rename" Command="{Binding RenamePresetCommand}" />
                </StackPanel>
            </Grid>
        </Grid>
        <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Left" >
            <Button Content="Start Audio" Command="{Binding StartAudioCommand}" Padding="12,6" />
            <Button Content="Stop Audio" Command="{Binding StopAudioCommand}" Padding="12,6" />
            <ToggleButton Content="Bypass" IsChecked="{Binding IsBypassed}" Padding="12,6" Width="90" />
        </StackPanel>
    </Grid>
</Window>
